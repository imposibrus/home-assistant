health:
  sensor:
    - platform: mqtt
      name: "imposibrus heartrate"
      state_topic: 'miband/heart'
      icon: mdi:heart-pulse
      unique_id: 'imposibrus_heartrate'
      unit_of_measurement: 'bpm'

    # TODO: move out from health package
    - platform: mqtt
      name: "imposibrus miband battery level"
      state_topic: 'miband/battery'
      device_class: battery
      unique_id: 'imposibrus_miband_battery'
      unit_of_measurement: '%'

  binary_sensor:
    - platform: mqtt
      name: "imposibrus sleep"
      state_topic: 'miband/sleep'
      icon: mdi:sleep
# only template sensors can have template icon
#        {% if is_state('binary_sensor.imposibrus_sleep', '1') %}
#          mdi:sleep
#        {% else %}
#          mdi:sleep-off
#        {% endif %}
      unique_id: 'imposibrus_sleep'

    # TODO: move out from health package
    - platform: mqtt
      name: "imposibrus miband wearing"
      state_topic: 'miband/wearing'
      icon: mdi:timer-outline
# only template sensors can have template icon
#        {% if is_state('binary_sensor.imposibrus_miband_wearing', '1') %}
#          mdi:timer-outline
#        {% else %}
#          mdi:timer-off-outline
#        {% endif %}
      unique_id: 'imposibrus_miband_wearing'

